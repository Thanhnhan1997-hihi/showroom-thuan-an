<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nh·∫≠p Li·ªáu Gh√©p Xe</title>
    <style>
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');
 body {
            font-family: 'Roboto', sans-serif;
            background: url('https://otodien.vn/wp-content/uploads/2024/08/hinh-anh-xe-vinfast-vf5-plus-1536x779.webp') no-repeat center center fixed;
            background-size: cover;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            color: #333;
            background-color: #d9d9d9;
        }
        h2 {
            text-align: left;
            margin-bottom: 15px;
            color: #FFFFFF;
            font-size: 25px;
            text-align: center;
        }
.title {
    display: flex; /* S·ª≠ d·ª•ng Flexbox ƒë·ªÉ cƒÉn gi·ªØa */
    justify-content: center; /* CƒÉn gi·ªØa theo chi·ªÅu ngang */
    align-items: center; /* CƒÉn gi·ªØa theo chi·ªÅu d·ªçc */
    text-align: center;
    font-size: 28px;
    font-weight: bold;
    color: white;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin: 20px auto; /* T·ª± cƒÉn gi·ªØa */
    padding: 15px 30px; /* Th√™m padding */
    background: linear-gradient(45deg, #444, #777);
    border-radius: 10px;
    box-shadow: 3px 3px 15px rgba(0, 0, 0, 0.2);
    width: fit-content; /* Gi·ªØ chi·ªÅu r·ªông ƒë√∫ng v·ªõi n·ªôi dung */
    animation: fadeIn 1s ease-in-out; /* Th√™m hi·ªáu ·ª©ng xu·∫•t hi·ªán */
}

/* Hi·ªáu ·ª©ng xu·∫•t hi·ªán */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

        .form-group {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-bottom: 10px;
        }
        .form-item {
            display: flex;
            flex-direction: column;
        }
        label {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 9px;
            color: #FFFFFF;
        }
        input, select {
            padding: 12px;
            border: 1px solid #777;
            border-radius: 8px;
            font-size: 16px;
            width: 100%;
            background: #f2f2f2;
            color: #333;
        }
        .btn-submit {
            background: #F0F8FF; /* L√†m n·ªïi b·∫≠t n√∫t */
            color: #000;
            padding: 10px 20px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            cursor: pointer;
            width: fit-content; /* Thu nh·ªè theo n·ªôi dung */
            border-radius: 8px;
            box-shadow: 0px 4px 6px rgba(255, 204, 0, 0.5);
            transition: all 0.3s ease;
            display: block;
            margin: 20px auto; /* CƒÉn gi·ªØa n√∫t */
        }
        .btn-submit:hover {
            background: #777;
            color: #fff;
        }
        .container {
            width: 100%;
            max-width: 1400px;
            background: rgba(79, 79, 79, 0.8);
            padding: 50px;
            border-radius: 15px;
            box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);
            text-align: left;
        }
        .logo {
            width: 150px;
            display: block;
            margin: 0 auto 10px;
            filter: drop-shadow(0px 0px 15px rgba(255, 250, 240, 3));
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            background-color: rgba(248, 248, 255, 0.9); /* ƒê·∫∑t n·ªÅn cho d·ªØ li·ªáu nh·∫≠p */
            padding: 10px;
            border: 1px solid #555;
            text-align: center;
        }
        th {
            background: linear-gradient(45deg, #444, #777);
            color: white;
            font-weight: bold;
            text-transform: uppercase;
            border-radius: 10px;
        }
        thead tr {
            border-radius: 10px;
        }
        tbody tr:nth-child(even) {
            background-color: #f5f5f5;
        }
        tbody tr:hover {
            background-color: #e0e0e0;
            transition: background 0.3s;
        }    </style>
</head>
<body>
    <div class="container">
        <img src="https://brasol.vn/wp-content/uploads/2022/09/logo-vinfast-png.png" class="logo" alt="VinFast Logo">
        <h2 class="title">T·∫†O Y√äU C·∫¶U GH√âP XE</h2>
        <form id="ghex-form" onsubmit="submitForm(event)">
            <div class="form-group">
                <div class="form-item">
                    <label>üìå T∆∞ V·∫•n BH</label>
                    <select name="ten_ban_hang" required>
                        <option value="">Ch·ªçn T∆∞ V·∫•n BH</option>
      <option value="ƒêinh TroÃ£ng Nh√¢n">ƒêinh TroÃ£ng Nh√¢n</option>
    <option value="L√™ Mai Anh">L√™ Mai Anh</option>
    <option value="L√™ Qu·ªëc Th·ªãnh">L√™ Qu·ªëc Th·ªãnh</option>
    <option value="L∆∞∆°ng Th·∫ø Ng·ªçc">L∆∞∆°ng Th·∫ø Ng·ªçc</option>
    <option value="Nguy·ªÖn Ho√†ng Ph√∫c">Nguy·ªÖn Ho√†ng Ph√∫c</option>
    <option value="Nguy·ªÖn Minh Trung">Nguy·ªÖn Minh Trung</option>
    <option value="Nguy·ªÖn Thi·ªán Th·∫£o">Nguy·ªÖn Thi·ªán Th·∫£o</option>
    <option value="T·∫•t B√°ch T∆∞·ªùng">T·∫•t B√°ch T∆∞·ªùng</option>
    <option value="Th√†nh Ng·ªçc Vinh">Th√†nh Ng·ªçc Vinh</option>
    <option value="V√µ Minh Tu·∫•n">V√µ Minh Tu·∫•n</option>
    <option value="Tr·∫ßn Th·ªã Nguy·ªát B·∫°ch">Tr·∫ßn Th·ªã Nguy·ªát B·∫°ch</option>
    <option value="Ph·∫°m Tr·ªçng Huy">Ph·∫°m Tr·ªçng Huy</option>
    <option value="Nguy·ªÖn Anh Tu·∫•n">Nguy·ªÖn Anh Tu·∫•n</option>
    <option value="Nguy·ªÖn Tr·∫ßn Ho√†ng Thanh">Nguy·ªÖn Tr·∫ßn Ho√†ng Thanh</option>
    <option value="Nguy·ªÖn Ho√†ng Th·∫°ch">Nguy·ªÖn Ho√†ng Th·∫°ch</option>
    <option value="L√Ω Kim Vinh">L√Ω Kim Vinh</option>
    <option value="B√πi Anh T√†i">B√πi Anh T√†i</option>
    <option value="V≈© Th·ªã Trang">V≈© Th·ªã Trang</option>
                    </select>
                </div>
                <div class="form-item">
                    <label>üë§ T√™n Kh√°ch H√†ng</label>
                    <input type="text" name="ten_khach_hang" required>
                </div>
            </div>
            <div class="form-group">
                <div class="form-item">
                    <label>üöó D√≤ng Xe</label>
                    <select name="dong_xe" required>
                        <option value="">Ch·ªçn D√≤ng Xe</option>
    <option value="VF5">VF5</option>
    <option value="VF6">VF6</option>
    <option value="VF7">VF7</option>
    <option value="VF8">VF8</option>
    <option value="VF9">VF9</option>
                    </select>
                </div>
                <div class="form-item">
 <label for="car-color">üè∑Ô∏è Phi√™n B·∫£n</label>
    <select name="phien_ban" required>
 <option value="">Ch·ªçn Phi√™n BaÃân</option>
        <option value="BASE">BASE</option>
        <option value="Plus">Plus</option>
        <option value="ECO">ECO</option>
        <option value="Plus_Metal">Plus_Metal</option>
        <option value="Plus_CAP_Metal">Plus_CAP_Metal</option>
        <option value="Plus_Metal_3ZONES">Plus_Metal_3ZONES</option>
        <option value="Eco_3ZONES">Eco_3ZONES</option>
        <option value="Plus_CAP_Metal_3ZONES">Plus_CAP_Metal_3ZONES</option>
          </select>
                </div>
            </div>
            <div class="form-group">
                <div class="form-item">
<label for="car-color">üé® Ngo·∫°i Th·∫•t</label>
<select name="ngoai_that" required>
<option value="">Ch·ªçn MaÃÄu</option>
        <option value="1114">1114 - Roof Jet black - Neptune Grey</option>
        <option value="Roof Jet black - Neptune Grey">1118 - Roof Jet black - Brahminy white</option>
        <option value="Roof Jet Black - Sunset Orange">111A - Roof Jet Black - Sunset Orange</option>
        <option value="Infinity Blanc - Silky White">111B - Infinity Blanc - Silky White</option>
        <option value="Ivy Green - Desat Silver">111C - Ivy Green - Desat Silver</option>
        <option value="Zenith Grey - Desat Silver">111D - Zenith Grey - Desat Silver</option>
        <option value="Atlantic Blue - Aquatic Azure">111E - Atlantic Blue - Aquatic Azure</option>
        <option value="Jet Black - Champagne Creme">111F - Jet Black - Champagne Creme</option>
        <option value="Deep Ocean - Jet Black">111H - Deep Ocean - Jet Black</option>
        <option value="Roof Jet Black - Crimson Red">111M - Roof Jet Black - Crimson Red</option>
        <option value="Roof Jet Black - Vinfast Blue">111N - Roof Jet Black - Vinfast Blue</option>
        <option value="Crimson Velvet - Mystery Bronze">111T - Crimson Velvet - Mystery Bronze</option>
        <option value="Roof Jet black - Summer Yellow">111U - Roof Jet black - Summer Yellow</option>
        <option value="Champagne Creme - Matte Champagne Creme">111X - Champagne Creme - Matte Champagne Creme</option>
        <option value="Jet Black - Graphite">111Y - Jet Black - Graphite</option>
        <option value="Urban Mint Green - Desat Silver">111Z - Urban Mint Green - Desat Silver</option>
        <option value="Desat Silver - Jet Black">1711 - Desat Silver - Jet Black</option>
        <option value="Desat Silver - Sunset Orange">171A - Desat Silver - Sunset Orange</option>
        <option value="Desat Silver - Crimson Red">171M - Desat Silver - Crimson Red</option>
        <option value="Brahminy White - Jet Black">1811 - Brahminy White - Jet Black</option>
        <option value="Brahminy White - Neptune Grey">1814 - Brahminy White - Neptune Grey</option>
        <option value="Brahminy White - Sunset Orange">181A - Brahminy White - Sunset Orange</option>
        <option value="Brahminy White - Deep Ocean">181H - Brahminy White - Deep Ocean</option>
        <option value="Brahminy White - Crimson Red">181M - Brahminy White - Crimson Red</option>
        <option value="Brahminy White - Vinfast Blue">181N - Brahminy White - Vinfast Blue</option>
        <option value="Brahminy White - Summer Yellow">181U - Brahminy White - Summer Yellow</option>
        <option value="Brahminy White - Iris Berry">181X - Brahminy White - Iris Berry</option>
        <option value="Xanh Nh·∫°t/Tr·∫Øng">181Y - Xanh Nh·∫°t/Tr·∫Øng</option>
        <option value="H·ªìng Ph·∫•n/Tr·∫Øng">1821 - H·ªìng Ph·∫•n/Tr·∫Øng</option>
        <option value="Champagne Creme - Infinity Blanc">1823 - Champagne Creme - Infinity Blanc</option>
        <option value="Jet Black">CE11 - Jet Black</option>
        <option value="Cormorant Brown">CE12 - Cormorant Brown</option>
        <option value="Luxury Blue">CE13 - Luxury Blue</option>
        <option value="Neptune Grey">CE14 - Neptune Grey</option>
        <option value="Action Orange">CE15 - Action Orange</option>
        <option value="Mystique Red">CE16 - Mystique Red</option>
        <option value="De Sat Silver">CE17 - De Sat Silver</option>
        <option value="Brahminy White">CE18 - Brahminy White</option>
        <option value="Goldenrod">CE19 - Goldenrod</option>
        <option value="Sunset Orange">CE1A - Sunset Orange</option>
        <option value="Competition Red">CE1B - Competition Red</option>
        <option value="Ultramarine">CE1C - Ultramarine</option>
        <option value="Gun Metal">CE1D - Gun Metal</option>
        <option value="Placid Lake">CE1E - Placid Lake</option>
        <option value="Caramel">CE1F - Caramel</option>
        <option value="Cappuccino">CE1G - Cappuccino</option>
        <option value="Deep Ocean">CE1H - Deep Ocean</option>
        <option value="Purple Rain">CE1I - Purple Rain</option>
        <option value="Xanh D∆∞∆°ng ƒê·∫≠m">CE1J - Xanh D∆∞∆°ng ƒê·∫≠m</option>
        <option value="Future Blue">CE1K - Future Blue</option>
        <option value="M√†u T√πy Ch·ªçn">CE1KH - M√†u T√πy Ch·ªçn</option>
        <option value="Crimson Red">CE1M - Crimson Red</option>
        <option value="Vinfast Blue">CE1N - Vinfast Blue</option>
        <option value="V√†ng">CE1O - V√†ng</option>
        <option value="Aqua Blue">CE1P - Aqua Blue</option>
        <option value="H·ªìng T√≠m">CE1PP - H·ªìng T√≠m</option>
        <option value="LD Blue">CE1Q - LD Blue</option>
        <option value="CE1R">CE1R - Xanh C·ªëm</option>
        <option value="X√°m Xi MƒÉng">CE1V - X√°m Xi MƒÉng</option>
        <option value="Xanh L√° Nh·∫°t">CE1W - Xanh L√° Nh·∫°t</option>
    </select>
                </div>
                <div class="form-item">
 <label for="car-color">üé® N√¥Ã£i Th·∫•t</label>
<select name="noi_that" required>
<option value="">Ch·ªçn MaÃÄu</option>
               <option value="CI11_BLACK">CI11_BLACK</option>
        <option value="CI12_BROWN">CI12_BROWN</option>
        <option value="CI13_BEIGE">CI13_BEIGE</option>
        <option value="CI18_CI18_Mocca_Brown_BRC">CI18_Mocca Brown</option>
    </select>
                </div>
      
                <div class="form-item">
                    <label>üìå S·ªë ƒê∆°n H√†ng</label>
                    <input type="text" name="so_don_hang" required>
                </div>
                <div class="form-item">
                    <label>üìÖ Th·ªùi Gian C·ªçc</label>
                    <input type="datetime-local" name="ngay_coc" required>
                </div>
            </div>
            <div class="form-group">
                <div class="form-item">
                    <label>üí∞ T√¨nh Tr·∫°ng Thanh To√°n</label>
                    <input type="text" name="tinh_trang_thanh_toan" required>
                    </select>
                </div>
            </div>
            <button type="submit" class="btn-submit">TAÃ£O Y√äU C√ÇÃÄU</button>
        </form>
    </div>
<div class="container">
    <h2>üìã DANH S√ÅCH Y√äU C·∫¶U GHEÃÅP XE</h2>
        <table>
            <thead>
                <tr>
                    <th>T∆∞ V·∫•n BH</th>
                    <th>T√™n Kh√°ch H√†ng</th>
                    <th>D√≤ng Xe</th>
                    <th>Phi√™n B·∫£n</th>
                    <th>Ngo·∫°i Th·∫•t</th>
                    <th>N·ªôi Th·∫•t</th>
                    <th>S·ªë ƒê∆°n H√†ng</th>
                    <th>Th·ªùi Gian C·ªçc</th>
                    <th>T√¨nh Tr·∫°ng Thanh To√°n</th>
                    <th>Th·ªùi Gian Nh·∫≠p Li·ªáu</th>
                </tr>
            </thead>
            <tbody id="order-list"></tbody>
        </table>
</div>
    </div>
<!-- Th√™m th√¥ng b√°o n·ªïi -->
<div id="toast" class="toast">‚úÖ ƒê∆°n h√†ng ƒë√£ ƒë∆∞·ª£c th√™m th√†nh c√¥ng!</div>

<style>
/* Toast notification */
.toast {
    visibility: hidden;
    min-width: 250px;
    background-color: rgba(0, 51, 102, 0.9);
    color: white;
    text-align: center;
    border-radius: 8px;
    padding: 12px;
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 16px;
    z-index: 1000;
    opacity: 0;
    transition: opacity 0.3s ease-in-out, bottom 0.3s ease-in-out;
}

.toast.show {
    visibility: visible;
    opacity: 1;
    bottom: 50px;
}

</style>
    <script>
 if (sessionStorage.getItem('loggedIn') !== 'true') {
        window.location.href = "dang-nhap.html";
    }
document.addEventListener("DOMContentLoaded", function () {
    loadData(); // T·∫£i d·ªØ li·ªáu t·ª´ localStorage khi trang m·ªü l·∫°i
});

// Hi·ªÉn th·ªã th√¥ng b√°o nh·∫π nh√†ng
function showToast(message) {
    const toast = document.getElementById("toast");
    toast.textContent = message;
    toast.classList.add("show");
    setTimeout(() => {
        toast.classList.remove("show");
    }, 2500);
}

// Ki·ªÉm tra s·ªë ƒë∆°n h√†ng c√≥ tr√πng kh√¥ng
function isDuplicateOrder(orderNumber) {
    const storedData = JSON.parse(localStorage.getItem("orders")) || [];
    return storedData.some(order => order.so_don_hang === orderNumber);
}

// X·ª≠ l√Ω nh·∫≠p li·ªáu
function submitForm(event) {
    event.preventDefault();
    const form = new FormData(event.target);
    const data = Object.fromEntries(form.entries());

    if (!validateForm(data)) return;

    // Ki·ªÉm tra s·ªë ƒë∆°n h√†ng tr√πng l·∫∑p
    if (isDuplicateOrder(data.so_don_hang)) {
        showToast("‚ö†Ô∏è S·ªë ƒë∆°n h√†ng ƒë√£ t·ªìn t·∫°i!");
        return;
    }

    // Ghi nh·∫≠n th·ªùi gian nh·∫≠p li·ªáu
    data.thoi_gian_nhap = new Date().toLocaleString();

    // L∆∞u v√†o LocalStorage
    const storedData = JSON.parse(localStorage.getItem("orders")) || [];
    storedData.unshift(data);
    localStorage.setItem("orders", JSON.stringify(storedData));

    // Th√™m v√†o b·∫£ng hi·ªÉn th·ªã
    addRowToTable(data, true);

    // Reset form
    event.target.reset();
    showToast("‚úÖ ƒê∆°n h√†ng ƒë√£ ƒë∆∞·ª£c th√™m!");

    // G·ª≠i d·ªØ li·ªáu l√™n Google Sheets (n·∫øu c·∫ßn)
    sendDataToGoogleSheet(data);
}

// G·ª≠i d·ªØ li·ªáu l√™n Google Sheets
async function sendDataToGoogleSheet(data) {
    try {
        await fetch("https://script.google.com/macros/s/AKfycbw-Orb_7-lzMDWqZgwQRliyYpIYGBB0-REqR9Fx6Q44Wi3SvZvpEJDlqLvLmGMgBfFE2g/exec", {
            method: "POST",
            mode: "no-cors",
            body: JSON.stringify(data),
            headers: { "Content-Type": "application/json" }
        });
        showToast("‚úÖ ƒê∆°n h√†ng ƒë√£ ƒë∆∞·ª£c g·ª≠i!");
    } catch (error) {
        showToast("‚ùå L·ªói khi g·ª≠i ƒë∆°n h√†ng!");
        console.error(error);
    }
}

// Th√™m h√†ng v√†o b·∫£ng
function addRowToTable(data, isNew = true) {
    const orderList = document.getElementById("order-list");
    const row = document.createElement("tr");

    Object.values(data).forEach(value => {
        const cell = document.createElement("td");
        cell.textContent = value;
        row.appendChild(cell);
    });

    // Th√™m n√∫t x√≥a ƒë∆°n h√†ng
    const deleteCell = document.createElement("td");
    const deleteButton = document.createElement("button");
    deleteButton.textContent = "‚ùå X√≥a";
    deleteButton.style.background = "red";
    deleteButton.style.color = "white";
    deleteButton.style.border = "none";
    deleteButton.style.padding = "5px 10px";
    deleteButton.style.borderRadius = "5px";
    deleteButton.style.cursor = "pointer";
    deleteButton.onclick = function () {
        deleteOrder(data.so_don_hang, row);
    };
    deleteCell.appendChild(deleteButton);
    row.appendChild(deleteCell);

    if (isNew) {
        orderList.prepend(row);
    } else {
        orderList.appendChild(row);
    }
}

// X√≥a ƒë∆°n h√†ng
function deleteOrder(orderNumber, row) {
    let storedData = JSON.parse(localStorage.getItem("orders")) || [];
    storedData = storedData.filter(order => order.so_don_hang !== orderNumber);
    localStorage.setItem("orders", JSON.stringify(storedData));

    row.remove();
    showToast("üóëÔ∏è ƒê√£ x√≥a ƒë∆°n h√†ng!");
}

// T·∫£i d·ªØ li·ªáu t·ª´ localStorage v√† hi·ªÉn th·ªã l√™n b·∫£ng
function loadData() {
    const storedData = JSON.parse(localStorage.getItem("orders")) || [];
    const orderList = document.getElementById("order-list");
    orderList.innerHTML = ""; // X√≥a b·∫£ng tr∆∞·ªõc khi t·∫£i l·∫°i d·ªØ li·ªáu
    storedData.forEach(data => addRowToTable(data, false));
}

// Ki·ªÉm tra form nh·∫≠p li·ªáu
function validateForm(formData) {
    let isValid = true;
    document.querySelectorAll("input, select").forEach(input => {
        let value = formData[input.name]?.trim();
        if (!value) {
            input.style.border = "2px solid red";
            isValid = false;
        } else {
            input.style.border = "1px solid #ccc";
        }
    });
    if (!isValid) showToast("‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!");
    return isValid;
}


// T·∫£i d·ªØ li·ªáu t·ª´ localStorage khi trang ƒë∆∞·ª£c t·∫£i l·∫°i
window.onload = loadData;

    </script>
</body>
</html>
